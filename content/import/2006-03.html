<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
    <head>
    	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    	<meta name="generator" content="Tumblr Backup 0.3>" />
    	<meta name="backup-date" content="Wed, 08 Dec 10 06:50:13 -0500" />
    	<link rel="stylesheet" href="../style.css"/>
    	<link rel="icon" href="../avatar.png"/>
    </head>
    <body class="archive_body">        
        <div class="post_meta">
            <span class="timestamp">March 27, 2006, 12:00 am</span>
            <a class="permalink" href="../posts/49034537.html">#</a>
        </div>
        
        <h1>Managing project files</h1><div><p>As I accumulate projects (both new and completed), the maintenance and storage of the project files becomes increasingly important. There are two important goals for a file structure: find things quickly and don’t lose anything. My current strategy is as follows:</p>

<p>Every project has a consistent folder structure:</p>

<pre><code>|-- analysis
|-- data
|-- db
|-- doc
|-- fig
`-- utils
</code></pre>

<p><em>analysis</em> holds the <a href="http://www.r-project.org">R</a> source files of the analysis. These, typically, are experiments and snippets of code. The main analyses are in the doc directory.</p>

<p><em>data</em> contains data files. Generally, these are csv files from clients.</p>

<p><em>db</em> is for sql dumps of databases and <a href="http://www.sqlite.org/">sqlite</a> files. I prefer working with databases over flat text files or Excel spreadsheets. These files are kept in the data folder and converted to sql databases for analyses.</p>

<p><em>doc</em> holds the analysis and writeup as a <a href="http://www.ci.tuwien.ac.at/~leisch/Sweave/FAQ.html">Sweave</a> file. This combines R and <a href="http://www.latex-project.org/">LaTeX</a> to create a complete document from one source file.</p>

<p><em>fig</em> is for diagrams and plots. Many of these are generated when processing the Sweave file, but some are constructed from other sources.</p>

<p><em>utils</em> holds scripts and binaries that are required to run the analysis.</p>

<p>This entire directory structure is maintained with <a href="http://subversion.tigris.org/">Subversion</a>, so I have a record of changes and can access the project files from any networked computer.</p>

<p>Finally, once a project is complete, I archive the project and construct a sha <a href="http://en.wikipedia.org/wiki/Checksum">checksum</a> of the zip file.</p>

<p><code>openssl dgst -sha1 -out checksums.txt archive.zip</code></p>

<p>This checksum allows me to verify that the archive remains stable over time. Coupled with a good backup routine, this should keep the project files safe.</p>

<p>This may seem elaborate, but data and their analyses are too important to be left scattered around a laptop’s hard drive.</p>

<p>One other approach I’ve considered is using the R package structure to maintain projects. <a href="http://www.maths.bris.ac.uk/~maman/computerstuff/Rhelp/Rpackages.html">This</a> is a useful guide, but the process seems too involved for my purposes.</p></div>        
        <div class="post_meta">
            <span class="timestamp">March 24, 2006, 11:46 am</span>
            <a class="permalink" href="../posts/66059320.html">#</a>
        </div>
        
        <h1>Sun grid</h1><div><p>Sun’s new <a href="http://www.network.com/">Grid Compute Utility</a> could be a great resource. As I described in an <a href="http://matt.routleynet.org/articles/2006/03/15/remote-data-analysis">earlier post</a>, running simulations can be a challenge with limited computer resources. Rather than waiting hours for my computers to work through thousands of iterations, I could pay Sun $1, which would likely be sufficient for the scale of my work. This would be well worth the investment! I spend a single dollar and quickly get the results I need for my research or clients.</p>

<p>Apparently, the American government has classified the Sun Grid as a weapon, so we can’t access it here in Canada, yet. I’m sure this will change shortly.</p></div>        
        <div class="post_meta">
            <span class="timestamp">March 19, 2006, 12:00 am</span>
            <a class="permalink" href="../posts/50697048.html">#</a>
        </div>
        
        <h1>Automator, Transmit, and Backup</h1><div><p>The Strongspace weblog has a <a href="http://weblog.strongspace.com/tips-and-tricks/automated-backups-with-transmit">useful post</a> about using <a href="http://www.panic.com/transmit/">Transmit</a> and <a href="http://www.apple.com/macosx/features/automator/">Automator</a> to make backups. One challenge with this approach is backing up files scattered throughout your home folder. The solution is the “Follow symbolic links” option when mirroring. I created a backup folder and populated it with aliases to the files I’m interested in backing up. Mirroring this folder to Strongspace copies the files to the server. The other option is to use the “Skip files with specified names” feature, but this rapidly filled up for me.</p></div>        
        <div class="post_meta">
            <span class="timestamp">March 15, 2006, 12:00 am</span>
            <a class="permalink" href="../posts/50131467.html">#</a>
        </div>
        
        <h1>Remote data analysis</h1><div><p>My six-year old laptop is incredibly slow, particularly when analysing data. Unfortunately, analysing data is my job, so this represents a problem. We have a new and fast desktop at home, but I can’t monopolise its use and it would negate the benefits of mobility.</p>

<p>Fortunately, with the help of <a href="http://www.gnu.org/software/emacs/emacs.html">Emacs</a> and <a href="http://ess.r-project.org/">ESS</a> there is a solution. I write my <a href="http://www.r-project.org/">R</a> code on the laptop and evaluate the code on the desktop, which sends the responses and plots back to the laptop. I can do this anywhere I have network access for the laptop and the results are quite quick.</p>

<p>There are a few tricks to the setup, especially if you want the plots sent back to the laptop’s screen, so I’ll document the necessary steps here.</p>

<p>First, you need to enable X11 forwarding on both the desktop and laptop computers (see the <a href="http://developer.apple.com/qa/qa2004/qa1383.html">Apple Technote</a>). Then start up <a href="http://www.apple.com/macosx/features/x11/">X11</a> on the laptop.</p>

<p>Now, on the laptop, start up Emacs, open a file with R code and ssh to the desktop:</p>

<p><code>  opt-x ssh -Y desktopip</code></p>

<p>Now, run R in the ssh buffer and link it to the R-code buffer</p>

<p><code>R opt-x ess-remote</code></p>

<p>That should do it. Now I have the speed of the desktop and the benefits of a laptop.</p></div>
</body></html>