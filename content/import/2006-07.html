<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
    <head>
    	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    	<meta name="generator" content="Tumblr Backup 0.3>" />
    	<meta name="backup-date" content="Wed, 08 Dec 10 06:50:13 -0500" />
    	<link rel="stylesheet" href="../style.css"/>
    	<link rel="icon" href="../avatar.png"/>
    </head>
    <body class="archive_body">        
        <div class="post_meta">
            <span class="timestamp">July 12, 2006, 12:30 pm</span>
            <a class="permalink" href="../posts/93881597.html">#</a>
        </div>
        
        <h1>The Canary Project-- Global Warming Documented in Photos</h1><div><p>The Canary Project is an intriguing idea. They are documenting the effects of global warming through pictures. Since many people, apparently, don&#8217;t believe the abundant scientific evidence, perhaps some startling pictures will be convincing.</p>

<p><a href="http://www.canary-project.org/">read more</a> | <a href="http://digg.com/environment/The_Canary_Project_Global_Warming_Documented_in_Photos">digg story</a></p></div>        
        <div class="post_meta">
            <span class="timestamp">July 11, 2006, 12:31 pm</span>
            <a class="permalink" href="../posts/80924593.html">#</a>
        </div>
        
        <h1>RSiteSearch</h1><div><p>I&#8217;m not sure how this escaped my notice until now, but @RSiteSearch@ is a very useful command in <a href="http://www.r-project.org">R</a>. Passing a string to this function loads up your web browser with search results from the R documentation and mailing list. So, for example:</p>

<pre><code>RSiteSearch("glm")
</code></pre>

<p>will show you everything you need to know about using R for generalised linear models.</p></div>        
        <div class="post_meta">
            <span class="timestamp">July 11, 2006, 12:00 am</span>
            <a class="permalink" href="../posts/49034350.html">#</a>
        </div>
        
        <h1>R module for ConTeXt</h1><div><p>I generally write my documents in <a href="http://www.maths.lth.se/help/R/.R/library/utils/html/Sweave.html">Sweave</a> format. This approach allows me to embed the code for analyses directly in the report derived from the analyses, so that all results and figures are generated dynamically with the text of the report. This provides both great documentation of the analyses and the convenience of a single file to keep track of and work with.</p>

<p>Now there is a new contender for integrating analysis code and documentation with the release of an R module for <a href="http://wiki.contextgarden.net/Main_Page">ConTeXt</a>. I prefer the clean implementation and modern features of ConTeXt to the excellent, but aging, <a href="http://www.latex-project.org/">LaTeX</a> macro package that Sweave relies on. So, using ConTeXt for my documents is a great improvement.</p>

<p>Here&#8217;s a simple example of using this new module. I create two randomly distributed, normal variables, test for a correlation between them, and plot their distribution.</p>

<pre><code>\usemodule[r]

\starttext
Describe the motivation of the analyses first.

Now create some variables.

\startRhidden
x &lt;- rnorm(1000, 0, 1)
y &lt;- rnorm(1000, 0, 1)
\stopRhidden

Are they correlated?

\startR
model &lt;- lm(y ~ x, data = test)
summary(model)
\stopR

Now we can include a figure.

\startR
pdf("testFigure.pdf")
plot(x, y)
dev.off()
\stopR

\startbuffer
\placefigure{Here it is}{\externalfigure[testFigure]}
\stopbuffer
\getbuffer

\stoptext
</code></pre>

<p>Processing this code produces a pdf file with all of the results produced from R, including the figure.</p>

<p>I had some minor difficulties getting this to work on my OS X machine, through no fault of the r module itself. There are two problems. The first is that, by default, write18 is not enabled, so ConTeXt can&#8217;t access R directly. Fix this by editing <code>/usr/local/teTeX/texmf.cnf</code> so that &#8220;shell_escape = t&#8221;. The next is that the R module calls @texmfstart@ which isn&#8217;t directly accessible from a stock installation of TeX. The steps required are described in the &#8220;Configuration of texmfstart&#8221; section of the <a href="http://wiki.contextgarden.net/Mac_Installation">ConTeXt wiki</a>. I modified this slightly by placing the script in <code>~/bin</code> so that I didn&#8217;t interfere with the installed teTeX tree. Now everything should work.</p></div>        
        <div class="post_meta">
            <span class="timestamp">July 7, 2006, 4:32 pm</span>
            <a class="permalink" href="../posts/50780314.html">#</a>
        </div>
        
        <h1>CBC Radio 3</h1><div><p>The <a href="http://radio3.cbc.ca/">CBC Radio 3</a> <a href="http://odeo.com/channel/20167/view">podcast</a> is an excellent source for independent, Canadian music. They have recently added a <a href="http://radio3.cbc.ca/blogs/2006/03/CBC-Radio-3-Movin-On-Up">playlist</a> feature that helps you search for your favourite artists and create your own radio station. Definitely worth checking out.</p></div>        
        <div class="post_meta">
            <span class="timestamp">July 6, 2006, 12:33 pm</span>
            <a class="permalink" href="../posts/65937630.html">#</a>
        </div>
        
        <h1>expand.grid</h1><div><p>Here&#8217;s a simple trick for creating experimental designs in R: use the function expand.grid.</p>

<p>A simple example is:</p>

<pre><code>  treatments &lt;- LETTERS[1:4]
  levels &lt;- 1:3
  experiment &lt;- data.frame(expand.grid(treatment=treatments, level=levels))
</code></pre>

<p>which produces:</p>

<pre><code>   treatment level
1          A     1
2          B     1
3          C     1
4          D     1
5          A     2
6          B     2
7          C     2
8          D     2
9          A     3
10         B     3
11         C     3
12         D     3
</code></pre>

<p>Now, if you want to randomize your experimental treatments, try:</p>

<pre><code>  experiment[sample(dim(experiment)[1]), ]
</code></pre>

<p><code>sample</code> randomly chooses numbers from a vector the same length as the <code>experiment</code> data frame without replacement. The square brackets then use this random sample to subsample from the <code>experiment</code> data frame.</p></div>
</body></html>